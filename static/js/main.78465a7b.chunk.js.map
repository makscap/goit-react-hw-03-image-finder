{"version":3,"sources":["components/Section/Section.js","components/SearchBar/SearchBar.js","ApiService/ApiService.js","components/Context/Context.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/StartPage/StartPage.js","components/ImageFinder/ImageFinder.js","App.js","index.js"],"names":["Section","title","children","Gallery","state","pictureName","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","this","className","type","autoComplete","autoFocus","onChange","placeholder","Component","apiService","query","currentPage","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","createContext","ImageGallery","gallery","map","image","id","webformatURL","largeImageURL","previewURL","Consumer","hadleImageClick","src","data-src","alt","data-large","onClick","ImageGalleryItem","onBtnClick","LoaderSpinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handelBackdropClick","target","window","addEventListener","removeEventListener","createPortal","StartPage","ImageFinder","picture","isLoading","isModalOpen","selectedImgURL","scroll","handleImageClick","nodeName","fullImgLink","getAttribute","fetchPictures","scrollHeight","documentElement","images","prevState","catch","finally","handleFormSubmit","toggleModal","body","style","overflowY","scrollTo","top","behavior","length","Loader","Provider","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"wOAeeA,MAZf,YAAuC,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACxB,OACE,qCACGD,GAAS,6BAAKA,IACdC,M,2CCuCQC,G,kNAxCbC,MAAQ,CACNC,YAAa,I,EAGfC,iBAAmB,SAAAC,GACjB,EAAKC,SAAS,CAAEH,YAAaE,EAAEE,cAAcC,MAAMC,iB,EAGrDC,aAAe,SAAAL,GAEb,GADAA,EAAEM,iBACoC,KAAlC,EAAKT,MAAMC,YAAYS,OACzB,OAAOC,IAAMC,MAAM,8BAErB,EAAKC,MAAMC,SAAS,EAAKd,MAAMC,aAC/B,EAAKG,SAAS,CAAEH,YAAa,M,uDAI7B,OACE,wBAAQa,SAAUC,KAAKP,aAAcQ,UAAU,YAA/C,SACE,uBAAMA,UAAU,aAAhB,UACE,wBAAQC,KAAK,SAASD,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTb,MAAOS,KAAKf,MAAMC,YAClBmB,SAAUL,KAAKb,iBACfmB,YAAY,sC,GAjCFC,c,iCCChBC,EAAa,SAACC,EAAOC,GACzB,OAAOC,IACJC,IADI,UAJQ,2BAIR,cAEcH,EAFd,iBAE4BC,EAF5B,gBAHO,qCAGP,yDAIJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,SAGpCR,EAAWS,UAAY,CACrBR,MAAOS,IAAUC,OAAOC,WACxBV,YAAaQ,IAAUG,OAAOD,YAGjBZ,QCjBAc,4BCEA,SAASC,EAAT,GAAoC,IAAZC,EAAW,EAAXA,QACrC,OACE,oBAAIvB,UAAU,eAAd,SACGuB,EAAQC,KAAI,SAAAC,GAAK,OCHT,YAKX,IAJFC,EAIC,EAJDA,GACAC,EAGC,EAHDA,aACAC,EAEC,EAFDA,cACAC,EACC,EADDA,WAEA,OACE,oBAAI7B,UAAU,mBAAd,SACE,cAAC,EAAY8B,SAAb,UACG,SAAAC,GAAe,OACd,qBACEC,IAAKL,EACLM,WAAUJ,EACVK,IAAI,kBACJC,aAAYP,EACZ5B,UAAU,0CACVoC,QAASL,QATjB,aAA4CL,IDJpBW,CAAiBZ,QEQ9Ba,MAXf,YAAkC,IAAZF,EAAW,EAAXA,QACpB,OACE,wBAAQnC,KAAK,SAASD,UAAU,SAASoC,QAASA,EAAlD,wB,iBCYaG,MAdf,WACE,OACI,cAAC,IAAD,CACAvC,UAAU,kBACRC,KAAK,YACLuC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,OCRbC,EAAYC,SAASC,cAAc,eAEpBC,E,4MASnBC,cAAgB,SAAA7D,GACC,WAAXA,EAAE8D,MACJ,EAAKpD,MAAMqD,W,EAIfC,oBAAsB,SAAAhE,GAChBA,EAAEiE,SAAWjE,EAAEE,eACjB,EAAKQ,MAAMqD,W,kEAfbG,OAAOC,iBAAiB,UAAWvD,KAAKiD,iB,6CAIxCK,OAAOE,oBAAoB,UAAWxD,KAAKiD,iB,+BAgB3C,OAAOQ,uBACL,qBAAKxD,UAAU,kBAAkBoC,QAASrC,KAAKoD,oBAA/C,SACE,qBAAKnD,UAAU,iBAAf,SAAiCD,KAAKF,MAAMf,aAE9C8D,O,GA1B6BtC,aCJpB,SAASmD,IACtB,OACE,8BACE,oBAAIzD,UAAU,mBAAd,uF,IC0HS0D,E,4MAnHb1E,MAAQ,CACNwB,MAAO,GACPmD,QAAS,KACTlD,YAAa,EACbmD,WAAW,EACXhE,MAAO,KACP2B,QAAS,GACTsC,aAAa,EACbC,eAAgB,GAChBC,OAAQ,G,EAGVC,iBAAmB,SAAA7E,GACjB,GAA0B,QAAtBA,EAAEiE,OAAOa,SAAb,CAIA9E,EAAEM,iBACF,IAAMyE,EAAc/E,EAAEiE,OAAOe,aAAa,cAC1C,EAAK/E,SAAS,CACZ0E,eAAgBI,EAChBL,aAAa,M,EAiBjBO,cAAgB,WAAO,IAAD,EACW,EAAKpF,MAA5BwB,EADY,EACZA,MAAOC,EADK,EACLA,YACf,EAAKrB,SAAS,CAAEwE,WAAW,IAC3B,IAAMS,EAAexB,SAASyB,gBAAgBD,aAC9C9D,EAAWC,EAAOC,GACfG,MAAK,SAAA2D,GACJ,EAAKnF,UAAS,SAAAoF,GAAS,MAAK,CAC1BjD,QAAQ,GAAD,mBAAMiD,EAAUjD,SAAhB,YAA4BgD,IACnC9D,YAAa+D,EAAU/D,YAAc,EACrCsD,OAAQM,SAGXI,OAAM,SAAA7E,GAAK,OAAI,EAAKR,SAAS,CAAEQ,aAC/B8E,SAAQ,WAEP,EAAKtF,SAAS,CAAEwE,WAAW,Q,EAIjCe,iBAAmB,SAAAnE,GACjB,EAAKpB,SAAS,CAAEoB,W,EAGlBhB,aAAe,SAAAgB,GACTA,IAAU,EAAKxB,MAAMwB,OACvB,EAAKpB,SAAS,CACZmC,QAAS,GACTf,MAAOA,EACPC,YAAa,EACbb,MAAO,Q,EAKbgF,YAAc,WACZ,EAAKxF,SAAS,CACZyE,aAAc,EAAK7E,MAAM6E,cAGvB,EAAK7E,MAAM6E,cACbhB,SAASgC,KAAKC,MAAMC,UAAY,W,iEArDjBlF,EAAOb,GAAQ,IAAD,EACQe,KAAKf,MAApCwB,EADuB,EACvBA,MAAOuD,EADgB,EAChBA,OAAQtD,EADQ,EACRA,YACnBzB,EAAMwB,QAAUA,GAClBT,KAAKqE,gBAEHpF,EAAM+E,SAAWA,GAAUtD,EAAc,GAC3C4C,OAAO2B,SAAS,CACdC,IAAKlB,EAAS,IACdmB,SAAU,a,+BAiDN,IAAD,EAOHnF,KAAKf,MALPuC,EAFK,EAELA,QACAf,EAHK,EAGLA,MACAqD,EAJK,EAILA,YACAC,EALK,EAKLA,eACAF,EANK,EAMLA,UAEF,OACE,gCACE,cAAC,EAAD,CAAW9D,SAAUC,KAAK4E,mBACN,IAAnBpD,EAAQ4D,QAAgB,cAAC1B,EAAD,IACzB,cAAC,IAAD,IACA,qBAAKzD,UAAU,UAAf,SAA0B4D,GAAa,cAACwB,EAAD,MACvC,cAAC,EAAYC,SAAb,CAAsB/F,MAAOS,KAAKiE,iBAAlC,SACGxD,GAAS,cAACc,EAAD,CAAcC,QAASA,MAGlCsC,GACC,cAAC,EAAD,CAAOX,QAASnD,KAAK6E,YAArB,SACE,qBAAK5C,IAAK8B,EAAgB5B,IAAI,oBAGlC,qBAAKlC,UAAU,aAAf,SACGQ,GAASe,EAAQ4D,OAAS,IACzB,cAAC,EAAD,CAAoB/C,QAASrC,KAAKqE,yB,GA5GpB9D,aCRX,SAASgF,IACtB,OACE,cAAC,EAAD,UACE,cAAC,EAAD,MCANC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACH,EAAD,MAEFzC,SAAS6C,eAAe,W","file":"static/js/main.78465a7b.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Section({ title, children }) {\n  return (\n    <>\n      {title && <h1>{title}</h1>}\n      {children}\n    </>\n  );\n}\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\nexport default Section;","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// import './SearchBar.module.css';\n\nclass Gallery extends Component {\n  state = {\n    pictureName: '',\n  };\n\n  handleNameChange = e => {\n    this.setState({ pictureName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.pictureName.trim() === '') {\n      return toast.error('Please, enter picture name');\n    }\n    this.props.onSubmit(this.state.pictureName);\n    this.setState({ pictureName: '' });\n  };\n\n  render() {\n    return (\n      <header onSubmit={this.handleSubmit} className=\"Searchbar\">\n        <form className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.pictureName}\n            onChange={this.handleNameChange}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Gallery;\n// const Searchbar = () => (\n//   <>\n// <header className=\"Searchbar\">\n//   <form className=\"SearchForm\">\n//     <button type=\"submit\" className=\"SearchForm-button\">\n//       <span className=\"SearchForm-button-label\">Search</span>\n//     </button>\n\n//     <input\n//       className=\"SearchForm-input\"\n//       type=\"text\"\n//       autocomplete=\"off\"\n//       autofocus\n//       placeholder=\"Search images and photos\"\n//     />\n//   </form>\n// </header>\n//   </>\n// );\n\n// export default Searchbar;\n\n\n\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '19127030-a84951d9aeba130a04f5b1356';\n\nconst apiService = (query, currentPage) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\napiService.propTypes = {\n  query: PropTypes.string.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default apiService;","import { createContext } from 'react';\n\nexport default createContext();","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nexport default function ImageGallery({ gallery }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {gallery.map(image => ImageGalleryItem(image))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport authContext from '../Context';\n\nexport default function ImageGalleryItem({\n  id,\n  webformatURL,\n  largeImageURL,\n  previewURL,\n}) {\n  return (\n    <li className=\"ImageGalleryItem\" key={`id-${id}`}>\n      <authContext.Consumer>\n        {hadleImageClick => (\n          <img\n            src={webformatURL}\n            data-src={previewURL}\n            alt=\"searchedPicture\"\n            data-large={largeImageURL}\n            className=\"ImageGalleryItem-image lazyload blur-up\"\n            onClick={hadleImageClick}\n          />\n        )}\n      </authContext.Consumer>\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  previewURL: PropTypes.string.isRequired,\n};","\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction onBtnClick({ onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\nonBtnClick.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default onBtnClick;\n\n\n","import React from 'react';\nimport Loader from \"react-loader-spinner\";\n\n\n  function LoaderSpinner() {\n    return (\n        <Loader\n        className=\"Loader App-logo\"\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      );\n  }\n  \n  \n  export default LoaderSpinner;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handelBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Modal__backdrop\" onClick={this.handelBackdropClick}>\n        <div className=\"Modal__content\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};","import React from 'react';\n\nexport default function StartPage() {\n  return (\n    <div>\n      <h2 className=\"StartPage-header\">\n        Thousands of pictures is waiting for you, just try to type something...\n      </h2>\n    </div>\n  );\n}","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from '../SearchBar';\nimport apiService from '../../ApiService/ApiService';\nimport ImageGallery from '../ImageGallery';\nimport OnLoadMoreBtnClick from '../Button';\nimport LoaderSpinner from '../Loader';\nimport authContext from '../Context';\nimport Modal from '../Modal';\nimport StartPage from '../StartPage';\n\nclass ImageFinder extends Component {\n  state = {\n    query: '',\n    picture: null,\n    currentPage: 1,\n    isLoading: false,\n    error: null,\n    gallery: [],\n    isModalOpen: false,\n    selectedImgURL: '',\n    scroll: 0,\n  };\n\n  handleImageClick = e => {\n    if (e.target.nodeName !== 'IMG') {\n      return;\n    }\n\n    e.preventDefault();\n    const fullImgLink = e.target.getAttribute('data-large');\n    this.setState({\n      selectedImgURL: fullImgLink,\n      isModalOpen: true,\n    });\n  };\n\n  componentDidUpdate(props, state) {\n    const { query, scroll, currentPage } = this.state;\n    if (state.query !== query) {\n      this.fetchPictures();\n    }\n    if (state.scroll !== scroll && currentPage > 2) {\n      window.scrollTo({\n        top: scroll - 200,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchPictures = () => {\n    const { query, currentPage } = this.state;\n    this.setState({ isLoading: true });\n    const scrollHeight = document.documentElement.scrollHeight;\n    apiService(query, currentPage)\n      .then(images => {\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...images],\n          currentPage: prevState.currentPage + 1,\n          scroll: scrollHeight,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        // this.onLoadMoreBtnClick();\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  handleSubmit = query => {\n    if (query !== this.state.query) {\n      this.setState({\n        gallery: [],\n        query: query,\n        currentPage: 1,\n        error: null,\n      });\n    }\n  };\n\n  toggleModal = () => {\n    this.setState({\n      isModalOpen: !this.state.isModalOpen,\n    });\n\n    if (this.state.isModalOpen) {\n      document.body.style.overflowY = 'hidden';\n    }\n  };\n\n  render() {\n    const {\n      gallery,\n      query,\n      isModalOpen,\n      selectedImgURL,\n      isLoading,\n    } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {gallery.length === 0 && <StartPage />}\n        <ToastContainer />\n        <div className=\"Wrapper\">{isLoading && <LoaderSpinner />}</div>\n        <authContext.Provider value={this.handleImageClick}>\n          {query && <ImageGallery gallery={gallery} />}\n        </authContext.Provider>\n\n        {isModalOpen && (\n          <Modal onClose={this.toggleModal}>\n            <img src={selectedImgURL} alt=\"fullsizeImage\"></img>\n          </Modal>\n        )}\n        <div className=\"BtnWrapper\">\n          {query && gallery.length > 11 && (\n            <OnLoadMoreBtnClick onClick={this.fetchPictures} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ImageFinder;","import Section from './components/Section';\nimport ImageFinder from './components/ImageFinder';\n\nexport default function App() {\n  return (\n    <Section>\n      <ImageFinder />\n    </Section>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css'\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}